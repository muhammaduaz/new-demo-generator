(this["webpackJsonpnew-demo-generator"]=this["webpackJsonpnew-demo-generator"]||[]).push([[0],{164:function(e,t){},166:function(e,t){},1663:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),s=n(85),i=n.n(s),o=(n(95),n(5)),c=n(40),u=n.n(c),l=n(86),d=(n(42),n(87)),h=n.n(d),f=n(88),j=n.n(f),p=n(89),b=n(0),m=function(e){var t=e.setDataArr,n=e.setIsLoading,r=e.setCsvLoaded,a=e.setStatus;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("h5",{children:["3. Click or Drag Upload ",Object(b.jsx)("a",{style:{color:"white"},href:"https://docs.google.com/spreadsheets/d/1jXUA_clzEbEX5xMLGGhFsJDgRau6RnpKYAlBbZYJy6I/edit?usp=sharing",children:"CSV"})]}),Object(b.jsx)("div",{className:"note",style:{marginBottom:"2em"},children:"(HINT - you can drag the file directly from the downloads bar at the bottom of Chrome after download)"}),Object(b.jsx)(p.a,{onDrop:function(e){n(!1),r(!0);var s=e.map((function(e){return e.data}));t(s),a("FIRE EVENTS")},onError:function(e,t,n,r){console.log(e)},addRemoveButton:!0,onRemoveFile:function(e){n(!1),r(!1),console.log(e)},skipEmptyLines:!1,children:Object(b.jsx)("span",{children:"Drop CSV file here or click to upload."})})]})},g=n(41),O=n.n(g),x=n(174),v=function(e){var t=x.datatype.uuid();return 0===e&&(t=t.split("-")[0]),t},y=86400,k=function(e){return Math.floor(Math.random()*e)},I=function(e){return!e.includes(!1)&&(!!e.includes(!0)||(e=(e=(e=(e=(e=e.replace('"',"")).replace("[","")).replace("]","")).replace('"',"")).trim(),"string"!=typeof(t=e)||isNaN(t)||isNaN(parseFloat(t))?e:parseFloat(e)));var t},N=function(e,t){var n=parseInt(e[3]),r=e.slice(7);r=r.filter((function(e){return e}));for(var a={},s=0;s<r.length;s++){var i=r[s].split([":"]);if(i[1].includes("*")&&t[n])void 0!==t[n][i[0]]&&(a[i[0]]=t[n][i[0]]);else if(i[1].includes("##"))a[i[0]]=v(1);else if(i[1].includes("#"))a[i[0]]=v(0);else if(i[1]=i[1].split(","),i[0].includes("[")){var o=[I(i[0].split(",")[0]),I(i[0].split(",")[1])],c=[];o[1]>i[1].length&&(o[1]=i[1].length);for(var u=0;u<o[1];u++){var l=k(i[1].length);c.push(I(i[1][l])),i[1].splice(l,1)}a[o[0]]=c}else{var d=I(i[1][k(i[1].length)]);a[i[0]]=d}}return a},S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e in t},E=function(e){return!(parseFloat(e)<Math.floor(101*Math.random()))},w=function e(t,n,r,a,s,i,o,c){if("identify"===t[r][1]){var u=N(t[r],a);a[parseInt(t[r][0])]=u,s.identify(c,u)}if("page"===t[r][1]){var l=N(t[r],a);a[parseInt(t[r][0])]=l,s.page(t[r][2],l)}if("track"===t[r][1]){var d=N(t[r],a);a[parseInt(t[r][0])]=d,s.track(t[r][2],d,{anonymousId:c})}t[r+1]?setTimeout((function(){return e(t,n,r+1,a,s,i,o,c)}),10):n<10?setTimeout((function(){return e(t,n+1,1,a,s,i,o,c)}),10):(i(!1),o("DONE, Fire Again?"))},F=function(){var e=Object(l.a)(u.a.mark((function e(t,n,r,a){var s,i,o,c,l,d,h,f,j,p,b,m,g=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=g.length>4&&void 0!==g[4]?g[4]:{0:!0},i=g.length>5&&void 0!==g[5]&&g[5],o=g.length>6?g[6]:void 0,c=g.length>7?g[7]:void 0,l=g.length>8?g[8]:void 0,d=g.length>9?g[9]:void 0,(h=g.length>10?g[10]:void 0)("Working..."),i(!0),a<3&&(o.reset(),o.setAnonymousId(n[r].anonymousId)),!E(t[a][4])){e.next=39;break}if((!t[a][3]||t[a][3]<1)&&(t[a][3]=0),!S(t[a][3],s)&&2!==a){e.next=39;break}if(f=O()().unix(),t[a][5]&&(f-=t[a][5]*y),t[a][6]&&(f-=Math.floor(Math.random()*parseFloat(t[a][6])*y)),f=O()(f,"X").format(),l++,"identify"!==t[a][1]){e.next=26;break}return j=N(t[a],s),Object.assign(j,n[r]),delete j.user_id,delete j.anonymousId,s[parseInt(t[a][0])]=j,e.next=26,o.identify(n[r].user_id,j,{timestamp:f});case 26:if("page"!==t[a][1]){e.next=34;break}return p=N(t[a],s),Object.assign(p,n[r]),delete p.user_id,delete p.anonymousId,s[parseInt(t[a][0])]=p,e.next=34,o.page(t[a][2],p,{anonymousId:n[r].anonymousId,timestamp:f});case 34:if("track"!==t[a][1]){e.next=39;break}return b=N(t[a],s),s[parseInt(t[a][0])]=b,e.next=39,o.track(t[a][2],b,{anonymousId:n[r].anonymousId,timestamp:f});case 39:if(r%10===0&&d(n.length-r),!t[a+1]){e.next=45;break}l%100===0&&c(l),setTimeout((function(){return F(t,n,r,a+1,s,i,o,c,l,d,h)}),10),e.next=56;break;case 45:if(!n[r+1]){e.next=50;break}l%100===0&&c(l),setTimeout((function(){return F(t,n,r+1,1,{0:!0},i,o,c,l,d,h)}),10),e.next=56;break;case 50:return c(l),d(n.length-1-r),h("Finishing Up ..."),m=v(1),w(t,0,2,{0:!0},o,i,h,m),e.abrupt("return","finished");case 56:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),C=function(){var e=Object(r.useState)([]),t=Object(o.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)(!1),i=Object(o.a)(s,2),c=i[0],u=i[1],l=Object(r.useState)(!1),d=Object(o.a)(l,2),f=d[0],p=d[1],g=Object(r.useState)(""),O=Object(o.a)(g,2),v=O[0],y=O[1],k=Object(r.useState)(0),I=Object(o.a)(k,2),N=I[0],S=I[1],E=Object(r.useState)(1),w=Object(o.a)(E,2),C=w[0],T=w[1],A=Object(r.useState)([]),R=Object(o.a)(A,2),D=R[0],M=R[1],U=Object(r.useState)(0),L=Object(o.a)(U,2),_=L[0],B=L[1],G=Object(r.useState)("NOT READY: GENERATE USERS OR LOAD CSV"),V=Object(o.a)(G,2),X=V[0],J=V[1],K=new h.a,Y={"Segment.io":{apiKey:v,retryQueue:!0,addBundledMetadata:!0}};K.use(j.a),K.initialize(Y);var W=function(e,t,n){t(function(e){for(var t=[],n=1;n<=e;n++){var r=x.name.firstName(),a=x.name.lastName(),s=x.datatype.uuid(),i=x.datatype.uuid().split("-")[0];t.push({first_name:r,last_name:a,email:"".concat(r,".").concat(a,"@gmailx.com"),anonymousId:s,user_id:i})}return t}(e))};return Object(b.jsx)("div",{className:"App",children:Object(b.jsxs)("header",{className:"App-header",children:[Object(b.jsx)("h5",{children:"1. Enter How many Users to Generate"}),Object(b.jsx)("input",{className:"inputbox",type:"text",placeholder:"Number of Users (Recommended < 500)",onChange:function(e){return T(e.target.value)}}),D.length>0?Object(b.jsx)("a",{href:"/#",onClick:function(){return W(C,M)},className:"button1",children:"DONE -> ".concat(D.length," Users Set, Click to Regenerate")}):Object(b.jsx)("a",{href:"/#",onClick:function(){return W(C,M)},className:"button1",children:"Generate Users"}),Object(b.jsx)("div",{className:"note",children:"Note: Each time you click will generate a new set of users. To re-use the same user set for multiple sources or data sets, do not repeat this step moving forward"}),Object(b.jsxs)("h5",{children:["2. Enter Source ",Object(b.jsx)("a",{style:{color:"white"},href:"https://segment.com/docs/getting-started/02-simple-install/#find-your-write-key",children:"Write Key"})]}),Object(b.jsx)("input",{className:"inputbox",type:"text",placeholder:"Write Key",onChange:function(e){return y(e.target.value)}}),Object(b.jsx)(m,{setDataArr:a,setIsLoading:u,setCsvLoaded:p,setStatus:J}),Object(b.jsx)("h5",{children:"4. Fire Events"}),!c&&D.length>0?Object(b.jsx)("a",{href:"#!",className:"highlight button1",onClick:function(){f&&F(n,D,D.length-C,2,{0:!0},u,K,S,0,B,J)},children:X}):Object(b.jsx)("a",{href:"#!",className:"button1",children:X}),Object(b.jsx)("h4",{children:N})," Events Fired",Object(b.jsx)("h4",{children:_})," Users Remaining",Object(b.jsx)("div",{}),Object(b.jsxs)("h6",{children:[Object(b.jsxs)("a",{rel:"noreferrer",href:"https://docs.google.com/spreadsheets/d/13XXBkNGFTms5o-6A3A3vqmIoVBUqkxSgvj9ghTTYGdI/edit?usp=sharing",target:"_blank",children:["v",1.32," - Template"]}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("a",{rel:"noreferrer",href:"https://github.com/send-on/new-demo-generator",target:"_blank",children:"README"})]})]})})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,1664)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),s(e),i(e)}))};i.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(C,{})}),document.getElementById("root")),T()},42:function(e,t,n){},95:function(e,t,n){}},[[1663,1,2]]]);
//# sourceMappingURL=main.d1720ff2.chunk.js.map